<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/notice_layout}">
<head>
<link rel="stylesheet" type="text/css" th:href="@{/css/noticeAll.css}" />
<link href="css/header.css" rel="stylesheet">
<link href="css/footer.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link th:href="@{bootstrap/bootstrap.min.css}" rel="stylesheet" >
    <title>FAQ</title>
    <style>
        .faq-item {
            border: 1px solid #ddd;
            margin-bottom: 10px;
            border-radius: 5px;
            overflow: hidden;
        }
        .faq-question {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background-color: #f9f9f9;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .faq-question:hover {
            background-color: #e9e9e9;
        }
        .toggle-btn {
            background: none;
            border: none;
            width: 20px;
            height: 20px;
            position: relative;
            cursor: pointer;
        }
        .toggle-btn .icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        .toggle-btn .icon::before,
        .toggle-btn .icon::after {
            content: '';
            position: absolute;
            background-color: #333;
            transition: all 0.3s ease;
        }
        .toggle-btn .icon::before {
            width: 2px;
            height: 12px;
            top: -6px;
            left: 0;
        }
        .toggle-btn .icon::after {
            width: 12px;
            height: 2px;
            top: -1px;
            left: -5px;
        }
        .toggle-btn.open .icon::before {
            transform: rotate(90deg);
            opacity: 0;
        }
        .toggle-btn.open .icon::after {
            transform: rotate(180deg);
        }
        .faq-answer {
            background-color: #fff;
            overflow: hidden;
            transition: height 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
            height: 0;
        }
        .faq-answer-content {
            padding: 15px;
        }
    </style>
</head>
<body>

	<th:block layout:fragment="content">
	<div id="global-content">
		<div class="notice-header text-center">
			<h2>자주 묻는 질문 (FAQ)</h2>
		</div>
		<div th:each="faq : ${faqs}" class="faq-item">
			<div class="faq-question" onclick="toggleAnswer(this)">
				<span th:text="${faq.question}"></span>
				<button class="toggle-btn">
					<span class="icon"></span>
				</button>
			</div>
			<div class="faq-answer">
				<div class="faq-answer-content">
					<p th:text="${faq.answer}"></p>
				</div>
			</div>
		</div>

		<script>
        function toggleAnswer(element) {
            var answer = element.nextElementSibling;
            var button = element.querySelector('.toggle-btn');
            var allAnswers = document.querySelectorAll('.faq-answer');
            var allButtons = document.querySelectorAll('.toggle-btn');
            
            // 다른 모든 답변 닫기
            allAnswers.forEach(function(item) {
                if (item !== answer && item.style.height !== '0px') {
                    item.style.height = '0px';
                    item.previousElementSibling.querySelector('.toggle-btn').classList.remove('open');
                }
            });

            // 클릭된 답변 토글
            if (answer.style.height === '0px' || answer.style.height === '') {
                answer.style.height = answer.scrollHeight + 'px';
                button.classList.add('open');
            } else {
                answer.style.height = '0px';
                button.classList.remove('open');
            }
        }

        // 초기 높이 설정
        document.addEventListener('DOMContentLoaded', function() {
            var answers = document.querySelectorAll('.faq-answer');
            answers.forEach(function(answer) {
                answer.style.height = '0px';
            });
        });
    </script>
	</div>
	</th:block>
		
</body>
</html>