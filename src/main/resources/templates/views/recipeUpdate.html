<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/main_layout}">

<head>
<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
	rel="stylesheet">
</head>



<body>
	<!-- content -->
	<div layout:fragment="content" class="container">
		<form th:action="@{recipeUpdateProcess}" method="post"
			enctype="multipart/form-data">
			<input type="hidden" th:value="${rList.boardNo}" name="boardNo" id="boardNo"/>
			<div class="row">
				<div class="col text-center">
					<h1 class="my-4">레시피 등록</h1>
				</div>
			</div>
			<div class="row my-2">
				<div class="col-md-4 mb-3">
					<label for="foodName" class="form-label">음식이름</label> <input
						type="text" class="form-control" id="foodName" name="foodName"
						th:value="${rList.foodName}">
				</div>
				<div class="col-md-4 mb-3">
					<label for="boardTitle" class="form-label">레시피 제목</label> <input
						type="text" class="form-control" id="boardTitle" name="boardTitle"
						th:value="${rList.boardTitle}">
				</div>
				<div class="col-md-4 mb-3">
					<label for="boardContent" class="form-label">레시피 소개</label>
					<textarea class="form-control" id="boardContent"
						name="boardContent" rows="2">[[${rList.boardContent}]]</textarea>
				</div>
			</div>
			<div class="row my-2">
				<div class="col-md-6 mb-3">
					<label for="foodGenre" class="form-label">카테고리</label> <select
						class="form-select" id="foodGenre" name="foodGenre">
						<option th:value="한식">한식</option>
						<option th:value="일식">일식</option>
						<option th:value="중식">중식</option>
						<option th:value="양식">양식</option>
						<option th:value="기타">기타</option>
					</select>
				</div>
				<div class="col-md-6 mb-3">
					<label for="thumbnail" class="form-label">대표사진</label> <input
						type="file" class="form-control" id="thumbnailname"
						name="thumbnailname">
				</div>
			</div>
			<div class="row my-2">
				<div class="col-md-6 mb-3">
					<label for="numberEaters" class="form-label">요리 정보</label>
					<div class="input-group">
						<span class="input-group-text">인원</span> <input type="number"
							class="form-control" id="numberEaters" name="numberEaters"
							th:value="${rList.numberEaters}"> <span
							class="input-group-text">인분</span>
					</div>
				</div>
				<div class="col-md-6 mb-3">
					<label for="foodTime" class="form-label">시간</label>
					<div class="input-group">
						<input type="number" class="form-control" id="foodTime"
							name="foodTime" th:value="${rList.foodTime}"> <span
							class="input-group-text">분 이하</span>
					</div>
				</div>
			</div>
			<div class="row my-2">
				<div class="col">
					<h2>재료등록</h2>
				</div>
			</div>
			<div id="materialSection">
				<div class="row g-3 align-items-center my-2">
					<div class="col-md-4">
						<label for="materialName" class="form-label">재료</label> <input
							type="text" class="form-control" id="materialName">
					</div>
					<div class="col-md-4">
						<label for="mensuration" class="form-label">수량</label> <input
							type="text" class="form-control" id="mensuration">
					</div>
					<div class="col-md-4">
						<label for="typeMaterial" class="form-label">분류</label> <select
							class="form-select" id="typeMaterial">
							<option value="재료">재료</option>
							<option value="조미료">조미료</option>
						</select>
					</div>
				</div>
				<th:block th:if="${mList != null}">
					<th:block th:if="${not #lists.isEmpty(mList)}">
						<th:block th:each="item : ${mList}">
							<div class="row" id="row-[[${item.materialId}]]">
								<div class="col">
									<span>[[${item.materialName}]]</span>
								</div>
								<div class="col">
									<span>[[${item.mensuration}]]</span>
								</div>
								<div class="col">
									<span>[[${item.typeMaterial}]]</span>
								</div>
								<div class="col">
									<i class="bi bi-trash3 deleteUMaterialBtn"
										data-id="[[${item.materialId}]]"></i>
								</div>
							</div>
						</th:block>
					</th:block>
				</th:block>
			</div>
			<div class="row my-2">
				<div class="col text-end">
					<button type="button" class="btn btn-secondary" id="addMaterial">재료
						추가</button>
				</div>
			</div>
			<div class="row my-2">
				<div class="col">
					<h2>조리과정등록</h2>
				</div>
			</div>
			<div id="cookingSection">
				<div class="row my-2">
					<div class="col-md-4 mb-3">
						<label for="cookTitle" class="form-label">요리 제목</label> <input
							type="text" class="form-control" id="cookTitle" name="cookTitle">
					</div>
					<div class="col-md-4 mb-3">
						<label for="cookMethod" class="form-label">요리 설명</label>
						<textarea class="form-control" id="cookMethod" name="cookMethod"
							rows="2"></textarea>
					</div>
					<div class="col-md-4 mb-3">
						<label for="recommended" class="form-label">주의할 점</label>
						<textarea class="form-control" id="recommended" name="recommended"
							rows="2"></textarea>
					</div>
					<div class="col-md-4 mb-3">
						<label for="cookFile" class="form-label">조리 과정사진</label> <input
							type="file" class="form-control" id="cookFile" name="cookFile">
					</div>
				</div>
				<div class="cookMetrialTextPlace"></div>
			</div>
			<div class="row my-2">
				<div class="col text-end">
					<button type="button" class="btn btn-secondary" id="addCooking">조리과정
						추가</button>
				</div>
			</div>

			<th:block th:if="${cList != null}">
				<th:block th:if="${not #lists.isEmpty(cList)}">
						<div class="row">
							<div class="col">
								<h2>요리추가</h2>
							</div>
						</div>
						<div class="row">
							<div class="col">
								<h5>조리 제목</h5>
							</div>
							<div class="col">
								<h5>조리 설명</h5>
							</div>
							<div class="col">
								<h5>주의 할점</h5>
							</div>
							<div class="col">
								<h5>조리 파일</h5>
							</div>
							<div class="col"></div>
						</div>
					<th:block th:each="cList: ${cList}">
						<div class="row" id="row-[[${cList.id}]]">
							<div class="col">
								<span>[[${cList.cookTitle}]]</span>
							</div>
							<div class="col">
								<span>[[${cList.cookMethod}]]</span>
							</div>
							<div class="col">
								<span>[[${cList.recommended}]]</span>
							</div>
							<div class="col">
								<span>[[${cList.cookFile}]]</span>
							</div>
							<div class="col">
								<i class="bi bi-trash3 deleteUCookingBtn"
									data-id="[[${cList.id}]]"></i>
							</div>
						</div>
					</th:block>
				</th:block>
			</th:block>

			<div class="row my-2">
				<div class="col text-end">
					<button type="submit" class="btn btn-primary">등록하기</button>
				</div>
			</div>
		</form>
	</div>


</body>
</html>
